"use strict";
/*!
 * Copyright (c) 2019 SAP SE or an SAP affiliate company. All rights reserved.
 */
Object.defineProperty(exports, "__esModule", { value: true });
var payload_value_converter_1 = require("./payload-value-converter");
// tslint:disable: valid-jsdoc
/**
 * @hidden
 */
function convertToUriFormat(value, edmType) {
    var converted = payload_value_converter_1.tsToEdm(value, edmType);
    switch (edmType) {
        case 'Edm.Binary':
            return "X'" + converted + "'";
        case 'Edm.Boolean':
            return String(converted);
        case 'Edm.Byte':
            return String(converted);
        case 'Edm.Int16':
            return String(converted);
        case 'Edm.Int32':
            return String(converted);
        case 'Edm.SByte':
            return String(converted);
        case 'Edm.Int64':
            return converted + "L";
        case 'Edm.Decimal':
            return converted + "M";
        case 'Edm.Double':
            return isInfOrNan(converted) ? converted : converted + "D";
        case 'Edm.Single':
            return isInfOrNan(converted) ? converted : converted + "F";
        case 'Edm.Float': // ABAP CDS compatibility
            return isInfOrNan(converted) ? converted : converted + "F";
        case 'Edm.Guid':
            return "guid'" + converted + "'";
        case 'Edm.String':
            return "'" + converted.replace(/'/g, "''") + "'";
        case 'Edm.DateTime':
            return "datetime'" + value.toISOString().replace(/Z$/, '') + "'";
        case 'Edm.DateTimeOffset':
            return "datetimeoffset'" + value.toISOString() + "'";
        case 'Edm.Time':
            return "time'" + converted + "'";
        default:
            return converted;
    }
}
exports.convertToUriFormat = convertToUriFormat;
function isInfOrNan(value) {
    return ['inf', '-inf', 'nan'].includes(value.toLowerCase());
}
//# sourceMappingURL=uri-value-converter.js.map